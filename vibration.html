<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <!--<link rel="stylesheet" href="css/style.css">-->
    <style>
      body { font: 16px; background-color: #ffffff;}
      h2 {padding: 10px}
      .speak-btn { height: 100%; width: 50%; background: rgb(130, 224, 255); border: none; padding: 10px; }
      .center { display: flex; flex-direction: row; justify-content: center; align-items: center; }
    </style>
    <title>振動提示</title>
    <script src="https://cdn.jsdelivr.net/npm/vue/dist/vue.js"></script>
    <script src="/socket.io/socket.io.js"></script>
</head>
<body>
    <header>
      <h2>振動提示</h2>
    </header>
    <hr>
    <div class="center">
      <main id="webConf">
        <button class="speak-btn" v-on:click="speak">送信</button>
      </main>
    </div>
</body>
  <script>
      var socket = io();
      var app = new Vue({
        el: '#webConf',
        methods: {
            // ボタンが押されたら、クライアントからサーバーにtrueを送信
            speak: function() {
            socket.emit('c2s-spk', true);
            return false;
            }
        },
      });
      // サーバーからtrueを受信したら、全クライアントのスマホを振動させる
      socket.on('s2c-spk', function(spk) {
        if(spk)window.navigator.vibrate([200]);
      });
  </script>
</html>
