<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <!--<link rel="stylesheet" href="css/style.css">-->
    <style>
      * { margin: 0; padding: 0; box-sizing: border-box; }
      body { font: 16px Helvetica, Arial; }
      h2 {padding: 10px}
      .form { background: #001; padding: 3px; position: fixed; bottom: 0; width: 100%; }
      .form button { width: 9%; background: rgb(130, 224, 255); border: none; padding: 10px; }
    </style>
    <title>振動提示</title>
    <script src="https://cdn.jsdelivr.net/npm/vue/dist/vue.js"></script>
    <script src="/socket.io/socket.io.js"></script>
</head>
<body>
    <header>
      <h2>振動提示</h2>
    </header>
    <hr>
    <main id="webConf">
      <button v-on:click="speak">送信</button>
    </main>
</body>
  <script>
      var socket = io();
      var app = new Vue({
        el: '#webConf',
        data: {
            speak: true
        },
        methods: {
            // 送信ボタンが押されたら、クライアントからサーバーにメッセージを送信
            speak: function() {
            socket.emit('c2s-spk', this.speak);
            return false;
            }
        },
      });
      // サーバーがメッセージをemitしたら、クライアント側のリストにメッセージを追加する
      socket.on('s2c-spk', function(spk) {
        //console.log(msg);
        //app.messages.push(msg);
        //window.scrollTo(0, document.body.scrollHeight);
        window.navigator.vibrate([200]);
      });
      // 元々あるメッセージを表示する
      //socket.on('init-chat', function(messages) {
      //  app.messages = messages;
      //});
  </script>
</html>
